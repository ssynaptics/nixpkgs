diff --git a/external/openmp/Makefile b/external/openmp/Makefile
--- a/external/openmp/Makefile
+++ b/external/openmp/Makefile
@@ -66,9 +66,9 @@
 
 
 $(LIBOMP): $(CHECK_SOURCE)
 ifeq ("$(wildcard $(OMP_DIR)/final/runtime/src/sgx_stub.h)", "")
-	cd openmp_code && git apply ../0001-Enable-OpenMP-in-SGX.patch && cd ..
+	cd openmp_code && git apply ../0001-Enable-OpenMP-in-SGX.patch && git apply ../gr.patch && cd ..
 endif
 	$(MKDIR) openmp_code/final/build && cd openmp_code/final/build && cmake -DCMAKE_POLICY_VERSION_MINIMUM=3.5 $(OMP_CONFIG) .. && $(MAKE)
 
 
